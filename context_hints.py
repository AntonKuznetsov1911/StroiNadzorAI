"""
–ú–æ–¥—É–ª—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
–ü–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
"""

from telegram import InlineKeyboardButton, InlineKeyboardMarkup

def is_short_question(text):
    """–ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –≤–æ–ø—Ä–æ—Å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–º"""
    # –£–±–∏—Ä–∞–µ–º –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è
    cleaned = text.strip().replace('?', '').replace('!', '').replace('.', '')

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–ª–∏–Ω—É
    if len(cleaned) < 10:
        return True

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤
    words = cleaned.split()
    if len(words) <= 2:
        return True

    # –°–ø–∏—Å–æ–∫ –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
    short_questions = [
        '–∫–∞–∫', '—á—Ç–æ', '–≥–¥–µ', '–∫–æ–≥–¥–∞', '–ø–æ—á–µ–º—É', '–∑–∞—á–µ–º', '—Å–∫–æ–ª—å–∫–æ',
        '–º–æ–∂–Ω–æ', '–Ω—É–∂–Ω–æ', '—ç—Ç–æ', '–∞ —ç—Ç–æ', '–ø—Ä–∞–≤–∏–ª—å–Ω–æ', '–Ω–æ—Ä–º–∞',
        '—á—Ç–æ –¥–µ–ª–∞—Ç—å', '–∫–∞–∫ –±—ã—Ç—å', '–ø–æ–º–æ–≥–∏', '—Å–∫–∞–∂–∏'
    ]

    if cleaned.lower() in short_questions:
        return True

    return False

def get_context_hints(user_message, conversation_history=None):
    """
    –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞

    Args:
        user_message: —Ç–µ–∫—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        conversation_history: –∏—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

    Returns:
        dict —Å —Ç–µ–∫—Å—Ç–æ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∏ –∫–Ω–æ–ø–∫–∞–º–∏, –∏–ª–∏ None –µ—Å–ª–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –Ω–µ –Ω—É–∂–Ω—ã
    """

    # –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –Ω–µ –∫–æ—Ä–æ—Ç–∫–∏–π, –ø–æ–¥—Å–∫–∞–∑–∫–∏ –Ω–µ –Ω—É–∂–Ω—ã
    if not is_short_question(user_message):
        return None

    message_lower = user_message.lower()

    # –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
    last_topic = None
    if conversation_history and len(conversation_history) > 0:
        last_message = conversation_history[-1].get('content', '')
        last_topic = detect_topic(last_message)

    # –ü–æ–¥—Å–∫–∞–∑–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–æ–ø—Ä–æ—Å–∞ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    hints = []

    # –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
    if last_topic:
        hints.append(f"–í—ã –∏–º–µ–µ—Ç–µ –≤ –≤–∏–¥—É {last_topic}?")

    # –û–±—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è
    if '–∫–∞–∫' in message_lower:
        hints.extend([
            "–£—Ç–æ—á–Ω–∏—Ç–µ: –¥–ª—è –∫–∞–∫–æ–≥–æ —Ç–∏–ø–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏?",
            "–£—Ç–æ—á–Ω–∏—Ç–µ: –Ω–∞ –∫–∞–∫–æ–π —Å—Ç–∞–¥–∏–∏ —Ä–∞–±–æ—Ç?",
            "–£—Ç–æ—á–Ω–∏—Ç–µ: –∫–∞–∫–æ–π –Ω–æ—Ä–º–∞—Ç–∏–≤ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?"
        ])
    elif '—á—Ç–æ' in message_lower or '—ç—Ç–æ' in message_lower:
        hints.extend([
            "–£—Ç–æ—á–Ω–∏—Ç–µ: —á—Ç–æ –∏–º–µ–Ω–Ω–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?",
            "–û–ø–∏—à–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ —Å–∏—Ç—É–∞—Ü–∏—é",
            "–ü—Ä–∏–ª–æ–∂–∏—Ç–µ —Ñ–æ—Ç–æ, –µ—Å–ª–∏ –µ—Å—Ç—å"
        ])
    elif '–≥–¥–µ' in message_lower:
        hints.extend([
            "–£—Ç–æ—á–Ω–∏—Ç–µ: –≤ –∫–∞–∫–æ–º –Ω–æ—Ä–º–∞—Ç–∏–≤–µ –∏—Å–∫–∞—Ç—å?",
            "–£—Ç–æ—á–Ω–∏—Ç–µ: –≥–¥–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ (—ç–ª–µ–º–µ–Ω—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)?",
            "–£—Ç–æ—á–Ω–∏—Ç–µ: –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ —Ä–∞–±–æ—Ç?"
        ])
    elif '—Å–∫–æ–ª—å–∫–æ' in message_lower:
        hints.extend([
            "–£—Ç–æ—á–Ω–∏—Ç–µ: –¥–ª—è –∫–∞–∫–æ–≥–æ –æ–±—ä–µ–º–∞ —Ä–∞–±–æ—Ç?",
            "–£–∫–∞–∂–∏—Ç–µ —Ä–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏",
            "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã: /calculators"
        ])
    elif '–º–æ–∂–Ω–æ' in message_lower or '–Ω—É–∂–Ω–æ' in message_lower:
        hints.extend([
            "–£—Ç–æ—á–Ω–∏—Ç–µ: –≤ –∫–∞–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏?",
            "–û–ø–∏—à–∏—Ç–µ —É—Å–ª–æ–≤–∏—è (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ —Ç.–¥.)",
            "–£–∫–∞–∂–∏—Ç–µ —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞"
        ])
    else:
        hints.extend([
            "–û–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –ø–æ–¥—Ä–æ–±–Ω–µ–µ",
            "–£–∫–∞–∂–∏—Ç–µ —Ç–∏–ø –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏",
            "–ü—Ä–∏–ª–æ–∂–∏—Ç–µ —Ñ–æ—Ç–æ, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ"
        ])

    # –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä—ã—Ö —É—Ç–æ—á–Ω–µ–Ω–∏–π
    keyboard = []

    # –ö–Ω–æ–ø–∫–∏ —Ç–∏–ø–æ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
    keyboard.append([
        InlineKeyboardButton("üèóÔ∏è –§—É–Ω–¥–∞–º–µ–Ω—Ç", callback_data="hint_foundation"),
        InlineKeyboardButton("üß± –°—Ç–µ–Ω—ã", callback_data="hint_walls")
    ])
    keyboard.append([
        InlineKeyboardButton("üèõÔ∏è –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏—è", callback_data="hint_slabs"),
        InlineKeyboardButton("üè† –ö—Ä–æ–≤–ª—è", callback_data="hint_roof")
    ])

    # –ö–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"
    keyboard.append([
        InlineKeyboardButton("üìö –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–æ—Ä–º–∞—Ç–∏–≤–æ–≤", callback_data="cat_all")
    ])

    # –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±–µ–∑ —É—Ç–æ—á–Ω–µ–Ω–∏—è"
    keyboard.append([
        InlineKeyboardButton("‚û°Ô∏è –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π –≤–æ–ø—Ä–æ—Å", callback_data="hint_proceed")
    ])

    reply_markup = InlineKeyboardMarkup(keyboard)

    # –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏
    hint_text = "üí° **–í–∞—à –≤–æ–ø—Ä–æ—Å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π**\n\n"

    if last_topic:
        hint_text += f"–í—ã –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç–µ —Ä–∞–∑–≥–æ–≤–æ—Ä –ø—Ä–æ _{last_topic}_?\n\n"

    hint_text += "–î–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —É—Ç–æ—á–Ω–∏—Ç–µ:\n\n"
    hint_text += "\n".join(f"‚Ä¢ {hint}" for hint in hints[:3])  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ 3 –ø–æ–¥—Å–∫–∞–∑–∫–∏

    hint_text += "\n\n_–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏–ª–∏ –æ–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –ø–æ–¥—Ä–æ–±–Ω–µ–µ:_"

    return {
        'text': hint_text,
        'keyboard': reply_markup,
        'hints': hints
    }

def detect_topic(text):
    """–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏—è"""
    text_lower = text.lower()

    topics = {
        '—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç—ã –∏ –æ—Å–Ω–æ–≤–∞–Ω–∏—è': ['—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç', '–æ—Å–Ω–æ–≤–∞–Ω–∏–µ', '—Å–≤–∞—è', '–≥—Ä—É–Ω—Ç'],
        '–±–µ—Ç–æ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã': ['–±–µ—Ç–æ–Ω', '–∂–µ–ª–µ–∑–æ–±–µ—Ç–æ–Ω', '–∞—Ä–º–∞—Ç—É—Ä', '–æ–ø–∞–ª—É–±–∫'],
        '–∫–∏—Ä–ø–∏—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã': ['–∫–∏—Ä–ø–∏—á', '–∫–ª–∞–¥–∫–∞', '—Å—Ç–µ–Ω'],
        '–∫—Ä–æ–≤–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã': ['–∫—Ä–æ–≤–ª', '–∫—Ä—ã—à', '–≥–∏–¥—Ä–æ–∏–∑–æ–ª'],
        '–æ—Ç–¥–µ–ª–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã': ['—à—Ç—É–∫–∞—Ç—É—Ä', '–ø–æ–∫—Ä–∞—Å–∫', '–æ–±–æ', '–ø–ª–∏—Ç–∫'],
        '—Ç–µ–ø–ª–æ—Ç–µ—Ö–Ω–∏–∫–∞': ['—É—Ç–µ–ø–ª–µ–Ω', '—Ç–µ–ø–ª–æ–∏–∑–æ–ª', '—Ç–µ–ø–ª–æ–ø—Ä–æ–≤–æ–¥–Ω'],
        '–∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ —Å–µ—Ç–∏': ['–≤–æ–¥–æ–ø—Ä–æ–≤–æ–¥', '–∫–∞–Ω–∞–ª–∏–∑–∞—Ü', '–æ—Ç–æ–ø–ª–µ–Ω', '–≤–µ–Ω—Ç–∏–ª—è—Ü'],
        '—ç–ª–µ–∫—Ç—Ä–∏–∫–∞ –∏ –æ—Å–≤–µ—â–µ–Ω–∏–µ': ['—ç–ª–µ–∫—Ç—Ä', '–æ—Å–≤–µ—â–µ–Ω', '–ø—Ä–æ–≤–æ–¥', '–∫–∞–±–µ–ª—å'],
        '–ø–æ–∂–∞—Ä–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å': ['–ø–æ–∂–∞—Ä', '–æ–≥–Ω–µ—Å—Ç–æ–π–∫', '—ç–≤–∞–∫—É–∞—Ü'],
        '–¥–µ—Ñ–µ–∫—Ç—ã –∏ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ': ['—Ç—Ä–µ—â–∏–Ω', '–¥–µ—Ñ–µ–∫—Ç', '–æ–±—Å–ª–µ–¥–æ–≤–∞–Ω', '—Ä–∞–∑—Ä—É—à']
    }

    for topic, keywords in topics.items():
        for keyword in keywords:
            if keyword in text_lower:
                return topic

    return None

def get_clarification_text(clarification_type):
    """–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –¥–ª—è —É—Ç–æ—á–Ω—è—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞"""
    clarifications = {
        'hint_foundation': {
            'topic': '—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç—ã',
            'text': '–£—Ç–æ—á–Ω–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å –ø–æ **—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–º**:\n\n‚Ä¢ –¢–∏–ø —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ (–ª–µ–Ω—Ç–æ—á–Ω—ã–π, –ø–ª–∏—Ç–Ω—ã–π, —Å–≤–∞–π–Ω—ã–π)?\n‚Ä¢ –°—Ç–∞–¥–∏—è —Ä–∞–±–æ—Ç (–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ, —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è)?\n‚Ä¢ –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∏–ª–∏ –≤–æ–ø—Ä–æ—Å?\n\n–ù–∞–ø—Ä–∏–º–µ—Ä: _"–ö–∞–∫–æ–π –∫–ª–∞—Å—Å –±–µ—Ç–æ–Ω–∞ –Ω—É–∂–µ–Ω –¥–ª—è –ª–µ–Ω—Ç–æ—á–Ω–æ–≥–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ –¥–æ–º–∞?"_'
        },
        'hint_walls': {
            'topic': '—Å—Ç–µ–Ω—ã',
            'text': '–£—Ç–æ—á–Ω–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å –ø–æ **—Å—Ç–µ–Ω–∞–º**:\n\n‚Ä¢ –ú–∞—Ç–µ—Ä–∏–∞–ª —Å—Ç–µ–Ω (–∫–∏—Ä–ø–∏—á, –±–µ—Ç–æ–Ω, –±–ª–æ–∫–∏)?\n‚Ä¢ –ù–µ—Å—É—â–∏–µ –∏–ª–∏ –Ω–µ–Ω–µ—Å—É—â–∏–µ?\n‚Ä¢ –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç (–ø—Ä–æ—á–Ω–æ—Å—Ç—å, —Ç–µ–ø–ª–æ–∑–∞—â–∏—Ç–∞, –∫–ª–∞–¥–∫–∞)?\n\n–ù–∞–ø—Ä–∏–º–µ—Ä: _"–ö–∞–∫–∞—è —Ç–æ–ª—â–∏–Ω–∞ –Ω–µ—Å—É—â–µ–π –∫–∏—Ä–ø–∏—á–Ω–æ–π —Å—Ç–µ–Ω—ã –¥–ª—è 2-—ç—Ç–∞–∂–Ω–æ–≥–æ –¥–æ–º–∞?"_'
        },
        'hint_slabs': {
            'topic': '–ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è',
            'text': '–£—Ç–æ—á–Ω–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å –ø–æ **–ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è–º**:\n\n‚Ä¢ –¢–∏–ø –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è (–º–æ–Ω–æ–ª–∏—Ç–Ω–æ–µ, —Å–±–æ—Ä–Ω–æ–µ, –ø–æ –±–∞–ª–∫–∞–º)?\n‚Ä¢ –ü—Ä–æ–ª–µ—Ç –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è?\n‚Ä¢ –ß—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç (–∞—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç–æ–ª—â–∏–Ω–∞, –Ω–∞–≥—Ä—É–∑–∫–∏)?\n\n–ù–∞–ø—Ä–∏–º–µ—Ä: _"–ö–∞–∫–∞—è —Ç–æ–ª—â–∏–Ω–∞ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–π –ø–ª–∏—Ç—ã –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è –¥–ª—è –ø—Ä–æ–ª–µ—Ç–∞ 6 –º–µ—Ç—Ä–æ–≤?"_'
        },
        'hint_roof': {
            'topic': '–∫—Ä–æ–≤–ª—è',
            'text': '–£—Ç–æ—á–Ω–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å –ø–æ **–∫—Ä–æ–≤–ª–µ**:\n\n‚Ä¢ –¢–∏–ø –∫—Ä–æ–≤–ª–∏ (–ø–ª–æ—Å–∫–∞—è, —Å–∫–∞—Ç–Ω–∞—è)?\n‚Ä¢ –ú–∞—Ç–µ—Ä–∏–∞–ª –ø–æ–∫—Ä—ã—Ç–∏—è?\n‚Ä¢ –ß—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç (—É–∫–ª–æ–Ω, –≥–∏–¥—Ä–æ–∏–∑–æ–ª—è—Ü–∏—è, —É—Ç–µ–ø–ª–µ–Ω–∏–µ)?\n\n–ù–∞–ø—Ä–∏–º–µ—Ä: _"–ö–∞–∫–æ–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É–∫–ª–æ–Ω –¥–ª—è –º–µ—Ç–∞–ª–ª–æ—á–µ—Ä–µ–ø–∏—Ü—ã?"_'
        }
    }

    return clarifications.get(clarification_type, {
        'topic': '—Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ',
        'text': '–û–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å –ø–æ–¥—Ä–æ–±–Ω–µ–µ'
    })

def format_hint_response(clarification_type):
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç —Å —É—Ç–æ—á–Ω–µ–Ω–∏–µ–º"""
    clarification = get_clarification_text(clarification_type)

    response = f"üìã **–£—Ç–æ—á–Ω–µ–Ω–∏–µ –ø–æ —Ç–µ–º–µ: {clarification['topic']}**\n\n"
    response += clarification['text']

    return response
