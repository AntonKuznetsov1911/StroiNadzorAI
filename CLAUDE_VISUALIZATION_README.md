# Claude Visualization - –ó–∞–º–µ–Ω–∞ Gemini API

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–§—É–Ω–∫—Ü–∏–∏ `/visualize` –∏ `/generate` —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ **Claude Sonnet 4** –≤–º–µ—Å—Ç–æ Gemini API.

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ï–¥–∏–Ω—ã–π API** - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ Claude (Anthropic API)
‚úÖ **–ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - Claude Sonnet 4 –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫—É
‚úÖ **–ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º ANTHROPIC_API_KEY
‚úÖ **–õ—É—á—à–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–æ—Ä–º–∞—Ç–∏–≤–∞–º–∏** - Claude –∑–Ω–∞–µ—Ç –°–ü/–ì–û–°–¢/–°–ù–∏–ü
‚úÖ **–≠–∫–æ–Ω–æ–º–∏—è** - –Ω–µ –Ω—É–∂–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ Gemini

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ö–æ–º–∞–Ω–¥–∞ `/visualize`

**–¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:**
```
/visualize —Ç—Ä–µ—â–∏–Ω–∞ –≤ –±–µ—Ç–æ–Ω–Ω–æ–π —Å—Ç–µ–Ω–µ —à–∏—Ä–∏–Ω–æ–π 3–º–º
```

**–ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ:**
- –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ —Å –ø–æ–¥–ø–∏—Å—å—é `/visualize`
- –ü–æ–ª—É—á–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–∞
- –í–∫–ª—é—á–∞–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –°–ü/–ì–û–°–¢/–°–ù–∏–ü

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –¢–∏–ø –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ñ–µ–∫—Ç–∞
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (—Ä–∞–∑–º–µ—Ä—ã, —Ñ–æ—Ä–º–∞, —Ü–≤–µ—Ç)
- –°—Ç–µ–ø–µ–Ω—å –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (—Ü–≤–µ—Ç–∞, —Ä–∞–∑–º–µ—Ç–∫–∞)
- –ù–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏

### –ö–æ–º–∞–Ω–¥–∞ `/generate`

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å—Ö–µ–º:**
```
/generate —É–∑–µ–ª –æ–ø–∏—Ä–∞–Ω–∏—è –±–∞–ª–∫–∏ –Ω–∞ –∫–æ–ª–æ–Ω–Ω—É
/generate –∞—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–Ω–æ–π –ø–ª–∏—Ç—ã
/generate –≥–∏–¥—Ä–æ–∏–∑–æ–ª—è—Ü–∏—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ö–µ–º—ã
- –û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- –ü–æ—à–∞–≥–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —á–µ—Ä—Ç–µ–∂–∞
- –°—Å—ã–ª–∫–∏ –Ω–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤—ã

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–π –º–æ–¥—É–ª—å: `claude_visualization.py`

**–ö–ª–∞—Å—Å:** `ClaudeVisualizer`

**–ú–µ—Ç–æ–¥—ã:**
1. `visualize_defect()` - –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–µ—Ñ–µ–∫—Ç–∞
2. `analyze_and_visualize_photo()` - –∞–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ —Å Vision API
3. `generate_technical_scheme()` - –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Å—Ö–µ–º—ã

**–ú–æ–¥–µ–ª—å:** `claude-sonnet-4-20250514`

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **bot.py**
   - –ó–∞–º–µ–Ω–µ–Ω –∏–º–ø–æ—Ä—Ç Gemini –Ω–∞ Claude Visualization
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `visualize_command()`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `generate_command()`
   - –û–±–Ω–æ–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ç–æ `handle_photo_with_visualization()`
   - –í–∫–ª—é—á–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –≤ –º–µ–Ω—é –±–æ—Ç–∞

2. **claude_visualization.py** (–Ω–æ–≤—ã–π)
   - –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ Claude

## –ß—Ç–æ –ù–ï –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- Claude API –∫–ª—é—á —Ç–æ—Ç –∂–µ (ANTHROPIC_API_KEY)
- –§–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥ –æ—Å—Ç–∞–ª—Å—è –ø—Ä–µ–∂–Ω–∏–º
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å Gemini

### –£–¥–∞–ª–µ–Ω–æ:
- ‚ùå `gemini_image_gen.py` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- ‚ùå GEMINI_API_KEY (–Ω–µ –Ω—É–∂–µ–Ω)
- ‚ùå –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Google Generative AI

### –î–æ–±–∞–≤–ª–µ–Ω–æ:
- ‚úÖ `claude_visualization.py`
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Claude Vision API
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞:

```python
from claude_visualization import get_claude_visualizer

visualizer = get_claude_visualizer()
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- `anthropic>=0.40.0` (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ)
- ANTHROPIC_API_KEY –≤ .env —Ñ–∞–π–ª–µ (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**1. –ê–Ω–∞–ª–∏–∑ –¥–µ—Ñ–µ–∫—Ç–∞ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é:**
```python
description = await visualizer.visualize_defect(
    defect_description="—Ç—Ä–µ—â–∏–Ω–∞ –≤ —Å—Ç–µ–Ω–µ",
    defect_type="—Ç—Ä–µ—â–∏–Ω–∞",
    style="technical"
)
```

**2. –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ:**
```python
description = await visualizer.analyze_and_visualize_photo(
    image_base64=base64_image,
    image_media_type="image/jpeg",
    analysis_request="–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –¥–µ—Ñ–µ–∫—Ç"
)
```

**3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ö–µ–º—ã:**
```python
description = await visualizer.generate_technical_scheme(
    scheme_description="—É–∑–µ–ª –æ–ø–∏—Ä–∞–Ω–∏—è –±–∞–ª–∫–∏",
    scheme_type="general"
)
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ö–æ–º–∞–Ω–¥—ã –∞–∫—Ç–∏–≤–Ω—ã –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –º–µ–Ω—é –±–æ—Ç–∞:

1. `/visualize` - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤
2. `/generate` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å—Ö–µ–º

–û–±–µ –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Claude Sonnet 4 –∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º API –∫–ª—é—á–æ–º.

## –õ–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### v1.0 (–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è)

- ‚úÖ –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `claude_visualization.py`
- ‚úÖ –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `/visualize` –Ω–∞ Claude API
- ‚úÖ –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `/generate` –Ω–∞ Claude API
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ç–æ –¥–ª—è `/visualize`
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –≤–∫–ª—é—á–µ–Ω—ã –≤ –º–µ–Ω—é –±–æ—Ç–∞
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Gemini API

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å **–≤–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Claude Sonnet 4**:
- –û—Å–Ω–æ–≤–Ω–æ–π AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç: Claude ‚úÖ
- –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π: Claude Vision ‚úÖ
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤: Claude ‚úÖ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ö–µ–º: Claude ‚úÖ

**Gemini –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ –Ω–µ –Ω—É–∂–µ–Ω!** üéâ
