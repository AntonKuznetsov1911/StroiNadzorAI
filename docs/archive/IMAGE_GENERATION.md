# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ StroiNadzorAI

## –û–±–∑–æ—Ä

StroiNadzorAI –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Ö–µ–º –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** —á–µ—Ä–µ–∑ **Stable Diffusion Web UI**.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üé® –¢–∏–ø—ã –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —á–µ—Ä—Ç–µ–∂–∏** (`technical`) - —á–µ—Ä–Ω–æ-–±–µ–ª—ã–µ —Å—Ö–µ–º—ã —Å —Ç–æ—á–Ω—ã–º–∏ –ª–∏–Ω–∏—è–º–∏
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–ª–∞–Ω—ã** (`blueprint`) - —Å–∏–Ω–∏–µ —á–µ—Ä—Ç–µ–∂–∏ –≤ —Å—Ç–∏–ª–µ –±–ª—é–ø—Ä–∏–Ω—Ç
- **–ò–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –≤–∏–¥—ã** (`isometric`) - 3D —Å—Ö–µ–º—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
- **–î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–µ–∑—ã** (`diagram`) - —É–∑–ª—ã –∏ —Å–µ—á–µ–Ω–∏—è

### ü§ñ AI –ü—Ä–æ–º–ø—Ç-–∏–Ω–∂–µ–Ω–µ—Ä–∏–Ω–≥

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –£–ª—É—á—à–∞–µ—Ç –≤–∞—à –∑–∞–ø—Ä–æ—Å —Å –ø–æ–º–æ—â—å—é Claude
- –ü–µ—Ä–µ–≤–æ–¥–∏—Ç —Ç–µ—Ä–º–∏–Ω—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
- –î–æ–±–∞–≤–ª—è–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã

---

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ö–æ–º–∞–Ω–¥—ã

```
/generate [–æ–ø–∏—Å–∞–Ω–∏–µ]  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

```
–Ω–∞—Ä–∏—Å—É–π —Ç—Ä–µ—â–∏–Ω—É –≤ —Å—Ç–µ–Ω–µ
–ø–æ–∫–∞–∂–∏ —Å—Ö–µ–º—É –∞—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞
—Å–æ–∑–¥–∞–π —á–µ—Ä—Ç—ë–∂ —É–∑–ª–∞ –ø—Ä–∏–º—ã–∫–∞–Ω–∏—è –±–∞–ª–∫–∏ –∫ –∫–æ–ª–æ–Ω–Ω–µ
—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π –ø–ª–∞–Ω —ç—Ç–∞–∂–∞ —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏
–∏–∑–æ–±—Ä–∞–∑–∏ –¥–µ—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º:
- –Ω–∞—Ä–∏—Å—É–π, –ø–æ–∫–∞–∂–∏, —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π
- —Å–æ–∑–¥–∞–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ/–∫–∞—Ä—Ç–∏–Ω–∫—É
- –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç
- –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Telegram Bot
                    ‚Üì
            [image_generator.py]
                    ‚Üì
         [Stable Diffusion Web UI]
                    ‚Üì
        [prompt_engineer.py] - Claude —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–º–ø—Ç
                    ‚Üì
             –†–µ–∑—É–ª—å—Ç–∞—Ç
```

### –ú–æ–¥—É–ª–∏

1. **`stable_diffusion_api.py`**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SD Web UI API
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ txt2img
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ img2img (—É–ª—É—á—à–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

2. **`prompt_engineer.py`**
   - AI-—É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ —á–µ—Ä–µ–∑ Claude
   - –°–ª–æ–≤–∞—Ä—å —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ (RU‚ÜíEN)
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å—Ö–µ–º

3. **`image_generator.py`**
   - –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å—Ö–µ–º—ã –∏–∑ –∑–∞–ø—Ä–æ—Å–∞
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Stable Diffusion Web UI

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ **`SD_SETUP.md`**

### 2. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`

```env
# Stable Diffusion API URL
SD_API_URL=http://127.0.0.1:7860
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ SD Web UI —Å API

```bash
# Windows
set COMMANDLINE_ARGS=--api --listen
webui-user.bat

# Linux
export COMMANDLINE_ARGS="--api --listen"
./webui.sh
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
python bot.py
```

---

## –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ó–∞–ø—Ä–æ—Å: `–Ω–∞—Ä–∏—Å—É–π —Å—Ö–µ–º—É —Ç—Ä–µ—â–∏–Ω—ã –≤ —Å—Ç–µ–Ω–µ`

**–ü—Ä–æ–º–ø—Ç –ø–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏—è**:
```
technical drawing, engineering schematic, wall crack detail,
cross-section view, precise lines, professional quality,
monochromatic, technical illustration, measurement marks,
construction defect visualization, high detail
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä–µ—â–∏–Ω—ã –≤ —Ä–∞–∑—Ä–µ–∑–µ

---

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### –î–ª—è Stable Diffusion

```python
# –í stable_diffusion_api.py –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:
width = 1024              # –®–∏—Ä–∏–Ω–∞ (512-2048)
height = 1024             # –í—ã—Å–æ—Ç–∞ (512-2048)
steps = 25                # –®–∞–≥–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (15-50)
cfg_scale = 7.0           # –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–º–ø—Ç—É (3-15)
sampler = "DPM++ 2M Karras"  # –ê–ª–≥–æ—Ä–∏—Ç–º —Å—ç–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è
```

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –¢–∏–ø —Å—Ö–µ–º—ã | Steps | CFG Scale | Sampler |
|-----------|-------|-----------|---------|
| Technical | 25    | 7.0       | DPM++ 2M Karras |
| Blueprint | 30    | 7.5       | Euler a |
| Isometric | 28    | 7.5       | DPM++ 2M Karras |
| Diagram   | 25    | 7.0       | DPM++ 2M Karras |

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –°–∫–æ—Ä–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

| –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ | –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (1024x1024) |
|--------------|------------------------------|
| RTX 4090     | ~3-5 —Å–µ–∫—É–Ω–¥                  |
| RTX 3080     | ~8-12 —Å–µ–∫—É–Ω–¥                 |
| RTX 3060     | ~15-20 —Å–µ–∫—É–Ω–¥                |
| CPU          | ~5-10 –º–∏–Ω—É—Ç                  |

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è:
1. –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä: `width=768, height=768`
2. –£–º–µ–Ω—å—à–∏—Ç–µ steps: `steps=20`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ã—Å—Ç—Ä—ã–π sampler: `Euler a`
4. –í–∫–ª—é—á–∏—Ç–µ xformers: `--xformers` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ SD

---

## –û–±–ª–∞—á–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã

–ï—Å–ª–∏ –Ω–µ—Ç –º–æ—â–Ω–æ–≥–æ –ü–ö, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

### 1. Google Colab (–ë–µ—Å–ø–ª–∞—Ç–Ω–æ)
- Notebook —Å SD Web UI
- GPU Tesla T4
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: 12 —á–∞—Å–æ–≤

### 2. Vast.ai (–û—Ç $0.10/—á–∞—Å)
- –ê—Ä–µ–Ω–¥–∞ GPU
- RTX 3060 –∏ –≤—ã—à–µ
- –ü–æ—á–∞—Å–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞

### 3. RunPod (–û—Ç $0.20/—á–∞—Å)
- –ì–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã SD
- –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏

### 4. Replicate API (Pay-per-use)
- –ë–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SD
- API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- ~$0.01 –∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### SD API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```bash
# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
curl http://127.0.0.1:7860/sdapi/v1/sd-models

# –õ–æ–≥–∏ –±–æ—Ç–∞
tail -f bot.log | grep "SD"
```

### –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ

1. –£–ª—É—á—à–∏—Ç–µ –ø—Ä–æ–º–ø—Ç –≤—Ä—É—á–Ω—É—é
2. –£–≤–µ–ª–∏—á—å—Ç–µ steps (30-40)
3. –ü–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å cfg_scale (7-9)
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

1. –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à–µ steps
3. –í–∫–ª—é—á–∏—Ç–µ `--xformers`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ã—Å—Ç—Ä—ã–π sampler

### Out of Memory

1. –î–æ–±–∞–≤—å—Ç–µ —Ñ–ª–∞–≥ `--medvram` –∏–ª–∏ `--lowvram`
2. –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
3. –ó–∞–∫—Ä–æ–π—Ç–µ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±–ª–∞—á–Ω—ã–π GPU

---

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å:

- [ ] ControlNet –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏
- [ ] Img2Img –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–æ—Ç–æ –¥–µ—Ñ–µ–∫—Ç–æ–≤
- [ ] Inpainting –¥–ª—è ¬´–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è¬ª –¥–µ—Ñ–µ–∫—Ç–æ–≤ –Ω–∞ —Ñ–æ—Ç–æ
- [ ] Batch generation (–Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] Fine-tuning –º–æ–¥–µ–ª–∏ –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏

### –î–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —á–µ—Ä—Ç–µ–∂–µ–π

1. **Stable Diffusion 3 Medium** - –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
2. **SDXL 1.0** - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è, –±—ã—Å—Ç—Ä–∞—è
3. **SD 1.5** - –ª–µ–≥–∫–∞—è, –¥–ª—è —Å–ª–∞–±—ã—Ö GPU

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ LoRA

- **Technical Drawing LoRA** - —É–ª—É—á—à–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å—Ö–µ–º—ã
- **Blueprint Style LoRA** - —Å—Ç–∏–ª—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —á–µ—Ä—Ç–µ–∂–µ–π
- **Isometric View LoRA** - –∏–∑–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –≤–∏–¥—ã

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `SD_SETUP.md`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SD Web UI –∑–∞–ø—É—â–µ–Ω —Å `--api`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `bot.log`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: http://127.0.0.1:7860

---

## –°—Å—ã–ª–∫–∏

- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ SD Web UI](./SD_SETUP.md)
- [Stable Diffusion Web UI](https://github.com/AUTOMATIC1111/stable-diffusion-webui)
- [–ú–æ–¥–µ–ª–∏ –Ω–∞ HuggingFace](https://huggingface.co/models?other=stable-diffusion)
- [–ú–æ–¥–µ–ª–∏ –Ω–∞ CivitAI](https://civitai.com/)
