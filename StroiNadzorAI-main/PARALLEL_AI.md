# üöÄ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ OpenAI + Claude API

## ‚ö° –ß—Ç–æ —ç—Ç–æ?

–ë–æ—Ç **–°—Ç—Ä–æ–π–ù–∞–¥–∑–æ—ÄAI** —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–¥–≤–∞ AI –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ** –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–∞!

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å** - –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–∞ –∏–ª–∏ —Ñ–æ—Ç–æ –±–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç **–æ–±–∞ API –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**:
   - OpenAI GPT-4o-mini
   - Claude 3.5 Haiku

2. **–ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç** - –±–æ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–ø–µ—Ä–≤—ã–π –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç**, –æ—Ç–º–µ–Ω—è—è –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç **—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç** —Å –ø–æ–º–µ—Ç–∫–æ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–≥–æ API

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å**: –û—Ç–≤–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –±—ã—Å—Ç—Ä–µ–µ, —Ç.–∫. –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π API
‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ï—Å–ª–∏ –æ–¥–∏–Ω API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Ç–æ—Ä–æ–π
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å**: –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω API –∫–ª—é—á
‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –í–∏–¥–Ω–æ –∫–∞–∫–æ–π AI –æ—Ç–≤–µ—Ç–∏–ª (‚ö° OpenAI –∏–ª–∏ ‚ö° Claude)

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. API –ö–ª—é—á–∏

–î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á–∏ –≤ `.env` —Ñ–∞–π–ª:

```env
# OpenAI API Key
OPENAI_API_KEY=sk-proj-–≤–∞—à_–∫–ª—é—á_openai

# Anthropic Claude API Key
ANTHROPIC_API_KEY=sk-ant-api03-–≤–∞—à_–∫–ª—é—á_claude
```

### 2. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–ú–∏–Ω–∏–º—É–º**: –û–¥–∏–Ω API –∫–ª—é—á (OpenAI –∏–ª–∏ Claude)
- **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ**: –û–±–∞ –∫–ª—é—á–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

–í–∫–ª—é—á–∞–µ—Ç:
- `openai>=1.30.0`
- `anthropic>=0.74.0`

## üìù –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏

### OpenAI
- **–ú–æ–¥–µ–ª—å**: `gpt-4o-mini`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã, –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **Max tokens**: 1000

### Claude
- **–ú–æ–¥–µ–ª—å**: `claude-3-5-haiku-20241022`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π AI –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
- **Max tokens**: 1000

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –¢–µ–∫—Å—Ç–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ö–∞–∫–∞—è –¥–æ–ø—É—Å—Ç–∏–º–∞—è —à–∏—Ä–∏–Ω–∞ —Ç—Ä–µ—â–∏–Ω—ã –≤ –±–µ—Ç–æ–Ω–µ?

–ë–æ—Ç: ü§î –î—É–º–∞—é –Ω–∞–¥ –≤–∞—à–∏–º –≤–æ–ø—Ä–æ—Å–æ–º... (–∏—Å–ø–æ–ª—å–∑—É—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ AI)

–ë–æ—Ç: üí¨ –û—Ç–≤–µ—Ç (‚ö° Claude):
[–û—Ç–≤–µ—Ç –æ—Ç Claude, —Ç.–∫. –æ–Ω –æ—Ç–≤–µ—Ç–∏–ª –ø–µ—Ä–≤—ã–º]
```

### –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: [–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ —Ç—Ä–µ—â–∏–Ω—ã]

–ë–æ—Ç: üì∏ –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é... (–∏—Å–ø–æ–ª—å–∑—É—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ AI)

–ë–æ—Ç: üîç –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (‚ö° OpenAI):
[–ê–Ω–∞–ª–∏–∑ –æ—Ç OpenAI, —Ç.–∫. –æ–Ω –æ—Ç–≤–µ—Ç–∏–ª –ø–µ—Ä–≤—ã–º]
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã API:

```bash
python test_parallel_api.py
```

–¢–µ—Å—Ç –ø–æ–∫–∞–∂–µ—Ç:
- –ö–∞–∫–∏–µ API –¥–æ—Å—Ç—É–ø–Ω—ã
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –∫–∞–∂–¥–æ–≥–æ API
- –ö–∞–∫–æ–π API –æ—Ç–≤–µ—Ç–∏–ª –±—ã—Å—Ç—Ä–µ–µ

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```python
# –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ –æ–±–æ–∏—Ö API
async def get_fastest_response_text(system_prompt, user_message):
    tasks = [
        call_openai_text(system_prompt, user_message),
        call_claude_text(system_prompt, user_message)
    ]

    # –ñ–¥–µ–º –ø–µ—Ä–≤—ã–π —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
    for coro in asyncio.as_completed(tasks):
        result = await coro
        if result is not None:
            return result  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –ï—Å–ª–∏ –æ–¥–∏–Ω API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Ç–æ—Ä–æ–π
- –ï—Å–ª–∏ –æ–±–∞ API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª—å

### –û—Ç–º–µ–Ω–∞ –∑–∞–¥–∞—á

–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞, –≤—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤.

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ü–æ —Ç–µ—Å—Ç–∞–º:
- **–°—Ä–µ–¥–Ω—è—è —ç–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏**: 30-50% –±—ã—Å—Ç—Ä–µ–µ
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: +100% (—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ —Å–±–æ–µ –æ–¥–Ω–æ–≥–æ API)

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `anthropic`
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_anthropic_client()`
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã `handle_text()` –∏ `handle_photo()`

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –æ–¥–Ω–∏–º API –∫–ª—é—á–æ–º
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å `.env`
- ‚úÖ –°—Ç–∞—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

### OpenAI (gpt-4o-mini)
- Input: $0.150 / 1M tokens
- Output: $0.600 / 1M tokens

### Claude (claude-3-5-haiku)
- Input: $1.00 / 1M tokens
- Output: $5.00 / 1M tokens

**–≠–∫–æ–Ω–æ–º–∏—è**: –ò—Å–ø–æ–ª—å–∑—É—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –≤—ã –ø–ª–∞—Ç–∏—Ç–µ —Ç–æ–ª—å–∫–æ –∑–∞ –ø–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç!

## üÜò –ü—Ä–æ–±–ª–µ–º—ã

### Claude: "Credit balance too low"
**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ https://console.anthropic.com/

### OpenAI: "Rate limit exceeded"
**–†–µ—à–µ–Ω–∏–µ**:
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 15 –º–∏–Ω—É—Ç
- –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –Ω–∞ https://platform.openai.com/account/billing

### –û–±–∞ API –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–∏ –≤ `.env` —Ñ–∞–π–ª–µ

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. ‚úÖ –ö–ª—é—á–∏ API –≤ `.env`
2. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`pip install -r requirements.txt`)
3. ‚úÖ –ë–∞–ª–∞–Ω—Å –Ω–∞ –æ–±–æ–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö
4. ‚úÖ –õ–æ–≥–∏ –±–æ—Ç–∞ (`python bot.py`)

---

**–ê–≤—Ç–æ—Ä**: Claude Code
**–î–∞—Ç–∞**: 2025-11-23
**–í–µ—Ä—Å–∏—è**: 2.0 (Parallel AI)
